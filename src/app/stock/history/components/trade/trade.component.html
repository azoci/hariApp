<div [@routerTransition]>
    <div class="page-header">
        <h4>거래상세</h4>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <form role="form" [formGroup]="tradeForm" (ngSubmit)="save(tradeForm.value)">
                <fieldset class="form-group">
                    <label>거래일</label>
                    <input type="date" class="form-control" formControlName="dt">
                </fieldset>
                <fieldset class="form-group">
                    <label>구분</label>
                    <select class="form-control" formControlName="type_nm">
                        <option>매수</option>
                        <option>매도</option>
                    </select>
                </fieldset>
                <label>회사명</label>
                <div class="form-group input-group">
                    <input type="text" class="form-control" formControlName="nm">
                    <input type="hidden" class="form-control" formControlName="item_key">
                    <input type="hidden" class="form-control" formControlName="cd">
                    <input type="hidden" class="form-control" formControlName="yn">
                    <span class="input-group-btn"><button class="btn btn-secondary" type="button"><i class="fa fa-search"></i></button></span>
                </div>
                <div *ngIf="query?.length > 0">
                    <ul *ngFor="let item of items | searchFilter: 'nm' : query" >
                        <li >
                            <a (click)="select(item)">{{item.nm}}</a>
                        </li>
                    </ul>
                </div>
                <fieldset class="form-group">
                    <label>수</label>
                    <input type="number" class="form-control" formControlName="num">
                </fieldset>
                <fieldset class="form-group">
                    <label>단가</label>
                    <input type="number" class="form-control" formControlName="price">
                </fieldset>
                <fieldset class="form-group">
                    <label>금액</label>
                    <input type="number" class="form-control" formControlName="amt">
                </fieldset>
                <fieldset class="form-group">
                    <label>사유</label>
                    <textarea class="form-control" rows="3" formControlName="content"></textarea>
                </fieldset>
                <button type="submit" class="btn btn-secondary">Submit</button>
                <button type="reset" class="btn btn-secondary">Reset</button>
            </form>
            <p *ngIf=visible>
                <ngb-alert (close)="closeAlert()">{{ message | json}}</ngb-alert>
            </p>
        </div>
    </div>
</div>
